# This file contains a list of dependencies that are not part of the long term plan for the
# '.' package.
# We should generally work to reduce this list over time.
#
# You can regenerate this file using the following command:
#
# bin/packwerk update-todo
---
packs/accounts:
  "::Account":
    violations:
    - dependency
    files:
    - app/chewy/accounts_index.rb
    - app/chewy/statuses_index.rb
    - app/controllers/activitypub/followers_synchronizations_controller.rb
    - app/controllers/activitypub/inboxes_controller.rb
    - app/controllers/activitypub/outboxes_controller.rb
    - app/controllers/activitypub/replies_controller.rb
    - app/controllers/admin/account_actions_controller.rb
    - app/controllers/admin/accounts_controller.rb
    - app/controllers/admin/action_logs_controller.rb
    - app/controllers/admin/base_controller.rb
    - app/controllers/admin/change_emails_controller.rb
    - app/controllers/admin/relationships_controller.rb
    - app/controllers/admin/statuses_controller.rb
    - app/controllers/api/v1/accounts/familiar_followers_controller.rb
    - app/controllers/api/v1/accounts/featured_tags_controller.rb
    - app/controllers/api/v1/accounts/follower_accounts_controller.rb
    - app/controllers/api/v1/accounts/following_accounts_controller.rb
    - app/controllers/api/v1/accounts/identity_proofs_controller.rb
    - app/controllers/api/v1/accounts/lists_controller.rb
    - app/controllers/api/v1/accounts/notes_controller.rb
    - app/controllers/api/v1/accounts/pins_controller.rb
    - app/controllers/api/v1/accounts/relationships_controller.rb
    - app/controllers/api/v1/accounts/statuses_controller.rb
    - app/controllers/api/v1/accounts_controller.rb
    - app/controllers/api/v1/admin/account_actions_controller.rb
    - app/controllers/api/v1/admin/accounts_controller.rb
    - app/controllers/api/v1/blocks_controller.rb
    - app/controllers/api/v1/crypto/keys/queries_controller.rb
    - app/controllers/api/v1/directories_controller.rb
    - app/controllers/api/v1/follow_requests_controller.rb
    - app/controllers/api/v1/lists/accounts_controller.rb
    - app/controllers/api/v1/mutes_controller.rb
    - app/controllers/api/v1/reports_controller.rb
    - app/controllers/api/v1/statuses/favourited_by_accounts_controller.rb
    - app/controllers/api/v1/statuses/reblogged_by_accounts_controller.rb
    - app/controllers/application_controller.rb
    - app/controllers/authorize_interactions_controller.rb
    - app/controllers/concerns/account_owned_concern.rb
    - app/controllers/concerns/signature_verification.rb
    - app/controllers/instance_actors_controller.rb
    - app/controllers/well_known/webfinger_controller.rb
    - app/helpers/application_helper.rb
    - app/helpers/jsonld_helper.rb
    - app/lib/account_reach_finder.rb
    - app/lib/activitypub/activity.rb
    - app/lib/activitypub/activity/create.rb
    - app/lib/activitypub/forwarder.rb
    - app/lib/activitypub/tag_manager.rb
    - app/lib/admin/metrics/dimension/space_usage_dimension.rb
    - app/lib/admin/metrics/measure/instance_accounts_measure.rb
    - app/lib/admin/metrics/measure/instance_followers_measure.rb
    - app/lib/admin/metrics/measure/instance_follows_measure.rb
    - app/lib/admin/metrics/measure/instance_media_attachments_measure.rb
    - app/lib/admin/metrics/measure/instance_reports_measure.rb
    - app/lib/admin/metrics/measure/instance_statuses_measure.rb
    - app/lib/admin/system_check/media_privacy_check.rb
    - app/lib/entity_cache.rb
    - app/lib/feed_manager.rb
    - app/lib/importer/accounts_index_importer.rb
    - app/lib/importer/statuses_index_importer.rb
    - app/lib/permalink_redirector.rb
    - app/lib/search_query_transformer.rb
    - app/lib/status_reach_finder.rb
    - app/lib/vacuum/statuses_vacuum.rb
    - app/models/account_alias.rb
    - app/models/account_conversation.rb
    - app/models/account_deletion_request.rb
    - app/models/account_domain_block.rb
    - app/models/account_filter.rb
    - app/models/account_migration.rb
    - app/models/account_moderation_note.rb
    - app/models/account_note.rb
    - app/models/account_pin.rb
    - app/models/account_stat.rb
    - app/models/account_statuses_cleanup_policy.rb
    - app/models/account_suggestions/global_source.rb
    - app/models/account_suggestions/past_interactions_source.rb
    - app/models/account_suggestions/setting_source.rb
    - app/models/account_warning.rb
    - app/models/admin/action_log.rb
    - app/models/admin/action_log_filter.rb
    - app/models/admin/status_batch_action.rb
    - app/models/announcement.rb
    - app/models/announcement_mute.rb
    - app/models/announcement_reaction.rb
    - app/models/appeal.rb
    - app/models/block.rb
    - app/models/bookmark.rb
    - app/models/canonical_email_block.rb
    - app/models/concerns/account_associations.rb
    - app/models/concerns/account_finder_concern.rb
    - app/models/concerns/account_interactions.rb
    - app/models/concerns/omniauthable.rb
    - app/models/concerns/pam_authenticable.rb
    - app/models/conversation_mute.rb
    - app/models/custom_filter.rb
    - app/models/device.rb
    - app/models/domain_block.rb
    - app/models/encrypted_message.rb
    - app/models/favourite.rb
    - app/models/featured_tag.rb
    - app/models/follow.rb
    - app/models/follow_recommendation.rb
    - app/models/follow_recommendation_filter.rb
    - app/models/follow_recommendation_suppression.rb
    - app/models/follow_request.rb
    - app/models/form/account_batch.rb
    - app/models/import.rb
    - app/models/instance.rb
    - app/models/list.rb
    - app/models/list_account.rb
    - app/models/media_attachment.rb
    - app/models/mention.rb
    - app/models/mute.rb
    - app/models/notification.rb
    - app/models/poll.rb
    - app/models/poll_vote.rb
    - app/models/public_feed.rb
    - app/models/relationship_filter.rb
    - app/models/relay.rb
    - app/models/report.rb
    - app/models/report_filter.rb
    - app/models/report_note.rb
    - app/models/scheduled_status.rb
    - app/models/status.rb
    - app/models/status_edit.rb
    - app/models/status_pin.rb
    - app/models/status_trend.rb
    - app/models/tag.rb
    - app/models/tag_follow.rb
    - app/models/tombstone.rb
    - app/models/trends/status_batch.rb
    - app/models/user.rb
    - app/presenters/account_relationships_presenter.rb
    - app/presenters/familiar_followers_presenter.rb
    - app/presenters/instance_presenter.rb
    - app/serializers/rest/account_serializer.rb
    - app/serializers/rest/admin/account_serializer.rb
    - app/serializers/rest/admin/report_serializer.rb
    - app/serializers/rest/familiar_followers_serializer.rb
    - app/serializers/rest/instance_serializer.rb
    - app/serializers/rest/search_serializer.rb
    - app/serializers/rest/status_edit_serializer.rb
    - app/serializers/rest/status_serializer.rb
    - app/serializers/rest/suggestion_serializer.rb
    - app/services/account_search_service.rb
    - app/services/activitypub/fetch_remote_account_service.rb
    - app/services/activitypub/fetch_remote_status_service.rb
    - app/services/activitypub/process_account_service.rb
    - app/services/activitypub/process_collection_service.rb
    - app/services/activitypub/process_status_update_service.rb
    - app/services/activitypub/synchronize_followers_service.rb
    - app/services/after_block_domain_from_account_service.rb
    - app/services/after_unallow_domain_service.rb
    - app/services/approve_appeal_service.rb
    - app/services/block_domain_service.rb
    - app/services/clear_domain_media_service.rb
    - app/services/delete_account_service.rb
    - app/services/deliver_to_device_service.rb
    - app/services/fan_out_on_write_service.rb
    - app/services/fetch_resource_service.rb
    - app/services/keys/claim_service.rb
    - app/services/process_mentions_service.rb
    - app/services/purge_domain_service.rb
    - app/services/remove_domains_from_followers_service.rb
    - app/services/report_service.rb
    - app/services/resolve_account_service.rb
    - app/services/resolve_url_service.rb
    - app/services/unallow_domain_service.rb
    - app/services/unblock_domain_service.rb
    - app/validators/existing_username_validator.rb
    - app/validators/unique_username_validator.rb
    - app/workers/account_deletion_worker.rb
    - app/workers/account_merging_worker.rb
    - app/workers/activitypub/delivery_worker.rb
    - app/workers/activitypub/followers_synchronization_worker.rb
    - app/workers/activitypub/migrated_follow_delivery_worker.rb
    - app/workers/activitypub/post_upgrade_worker.rb
    - app/workers/activitypub/processing_worker.rb
    - app/workers/activitypub/raw_distribution_worker.rb
    - app/workers/activitypub/synchronize_featured_collection_worker.rb
    - app/workers/activitypub/synchronize_featured_tags_collection_worker.rb
    - app/workers/activitypub/update_distribution_worker.rb
    - app/workers/admin/account_deletion_worker.rb
    - app/workers/admin/suspension_worker.rb
    - app/workers/admin/unsuspension_worker.rb
    - app/workers/after_account_domain_block_worker.rb
    - app/workers/authorize_follow_worker.rb
    - app/workers/block_worker.rb
    - app/workers/bootstrap_timeline_worker.rb
    - app/workers/feed_insert_worker.rb
    - app/workers/import/relationship_worker.rb
    - app/workers/local_notification_worker.rb
    - app/workers/merge_worker.rb
    - app/workers/move_worker.rb
    - app/workers/mute_worker.rb
    - app/workers/poll_expiration_notify_worker.rb
    - app/workers/redownload_avatar_worker.rb
    - app/workers/redownload_header_worker.rb
    - app/workers/refollow_worker.rb
    - app/workers/regeneration_worker.rb
    - app/workers/remote_account_refresh_worker.rb
    - app/workers/remove_featured_tag_worker.rb
    - app/workers/scheduler/accounts_statuses_cleanup_scheduler.rb
    - app/workers/scheduler/user_cleanup_scheduler.rb
    - app/workers/unfavourite_worker.rb
    - app/workers/unfollow_follow_worker.rb
    - app/workers/unmerge_worker.rb
    - app/workers/verify_account_links_worker.rb
    - db/migrate/20170823162448_create_status_pins.rb
    - db/migrate/20171116161857_create_list_accounts.rb
    - db/migrate/20171119172437_create_admin_action_logs.rb
    - db/migrate/20180628181026_create_custom_filters.rb
    - db/migrate/20180808175627_create_account_pins.rb
    - db/migrate/20180929222014_create_account_conversations.rb
    - db/migrate/20181024224956_migrate_account_conversations.rb
    - db/migrate/20181116165755_create_account_stats.rb
    - db/migrate/20181116173541_copy_account_stats.rb
    - db/migrate/20181213184704_create_account_warnings.rb
    - db/migrate/20190103124649_create_scheduled_statuses.rb
    - db/migrate/20190117114553_create_tombstones.rb
    - db/migrate/20190225031541_create_polls.rb
    - db/migrate/20190225031625_create_poll_votes.rb
    - db/migrate/20190316190352_create_account_identity_proofs.rb
    - db/migrate/20190914202517_create_account_migrations.rb
    - db/migrate/20190915194355_create_account_aliases.rb
    - db/migrate/20200113125135_create_announcement_mutes.rb
    - db/migrate/20200114113335_create_announcement_reactions.rb
    - db/migrate/20210722120340_create_account_statuses_cleanup_policies.rb
    - db/migrate/20210908220918_create_status_edits.rb
    - db/migrate/20220124141035_create_appeals.rb
    - db/migrate/20220714171049_create_tag_follows.rb
    - db/post_migrate/20201017234926_fill_account_suspension_origin.rb
    - db/seeds/02_instance_actor.rb
    - db/seeds/04_admin.rb
    - lib/cli.rb
    - lib/mastodon/accounts_cli.rb
    - lib/mastodon/cache_cli.rb
    - lib/mastodon/domains_cli.rb
    - lib/mastodon/feeds_cli.rb
    - lib/mastodon/media_cli.rb
    - lib/mastodon/upgrade_cli.rb
    - lib/tasks/tests.rake
    - spec/controllers/activitypub/inboxes_controller_spec.rb
    - spec/controllers/admin/accounts_controller_spec.rb
    - spec/controllers/api/v1/media_controller_spec.rb
    - spec/helpers/accounts_helper_spec.rb
    - spec/lib/activitypub/tag_manager_spec.rb
    - spec/mailers/previews/admin_mailer_preview.rb
    - spec/mailers/previews/notification_mailer_preview.rb
    - spec/models/account_filter_spec.rb
    - spec/models/concerns/account_finder_concern_spec.rb
    - spec/models/concerns/account_interactions_spec.rb
    - spec/policies/account_policy_spec.rb
    - spec/presenters/account_relationships_presenter_spec.rb
    - spec/presenters/status_relationships_presenter_spec.rb
    - spec/serializers/rest/keys/claim_result_serializer_spec.rb
    - spec/serializers/rest/keys/query_result_serializer_spec.rb
    - spec/services/activitypub/fetch_remote_account_service_spec.rb
    - spec/services/activitypub/fetch_remote_actor_service_spec.rb
    - spec/services/activitypub/process_account_service_spec.rb
    - spec/services/block_domain_service_spec.rb
    - spec/services/fetch_resource_service_spec.rb
    - spec/services/resolve_account_service_spec.rb
    - spec/services/search_service_spec.rb
    - spec/services/unallow_domain_service_spec.rb
    - spec/workers/activitypub/delivery_worker_spec.rb
    - spec/workers/scheduler/user_cleanup_scheduler_spec.rb
  "::Account::MENTION_RE":
    violations:
    - dependency
    files:
    - app/lib/extractor.rb
    - app/services/account_search_service.rb
    - app/services/process_mentions_service.rb
    - app/validators/note_length_validator.rb
  "::Account::URL_PREFIX_RE":
    violations:
    - dependency
    files:
    - app/controllers/activitypub/followers_synchronizations_controller.rb
    - app/models/concerns/account_interactions.rb
  "::Account::USERNAME_RE":
    violations:
    - dependency
    files:
    - app/services/resolve_url_service.rb
